{"version":3,"file":"app.24fa6d6f.js","sources":["../../../src/js/App.ts","../../../src/js/components/Announcement.ts","../../../src/js/components/CookieConsent.ts","../../../src/js/components/Nav.ts"],"sourcesContent":["type AppBinding = {\n    component: AppComponent;\n    name: string;\n    options?: AppOptions;\n};\n\ntype AppComponent = new (...args: any[]) => unknown;\n\ntype AppOptions = { [key: string]: boolean | number | string };\n\nexport default class App {\n    bindings: AppBinding[];\n\n    constructor(bindings: AppBinding[] = []) {\n        this.bindings = bindings;\n        this.init();\n    }\n\n    bind($root: Document | HTMLElement, name: string, component: AppComponent, options: AppOptions): void {\n        $root.querySelectorAll(`.js-${name}`).forEach(($el) => {\n            $el.__APP__ ||= {};\n\n            if ($el.__APP__[name] === undefined) {\n                $el.__APP__[name] = new component($el, options);\n            }\n        });\n    }\n\n    bindAll($root: Document | HTMLElement): void {\n        this.bindings.forEach((binding) => {\n            this.bind($root, binding.name, binding.component, binding.options || {});\n        });\n    }\n\n    init(): void {\n        const mutationObserver = new MutationObserver((mutations) => {\n            let targets: HTMLElement[] = [];\n\n            mutations.forEach((mutationRecord) => {\n                if (mutationRecord.target instanceof HTMLElement) {\n                    if (!targets.includes(mutationRecord.target)) {\n                        this.bindAll(mutationRecord.target);\n                        targets.push(mutationRecord.target);\n                    }\n                }\n            });\n\n            document.body.dispatchEvent(\n                new CustomEvent('domchanged', {\n                    detail: {\n                        targets,\n                    },\n                })\n            );\n        });\n\n        mutationObserver.observe(document.documentElement, {\n            childList: true,\n            subtree: true,\n        });\n\n        this.bindAll(document);\n    }\n}\n","export default class Announcement {\n    $el: HTMLElement;\n    $close: HTMLButtonElement;\n\n    constructor($el: HTMLElement) {\n        this.$el = $el;\n        this.$close = this.$el.querySelector('.js-announcementClose')!;\n\n        document.body.classList.add('has-announcement');\n        window.onload = this.update.bind(this);\n        this.update();\n\n        this.initListeners();\n    }\n\n    initListeners(): void {\n        this.$close.addEventListener(\n            'click',\n            () => {\n                this.$el.classList.add('is-hiding');\n            },\n            false\n        );\n\n        this.$el.addEventListener(\n            'transitionend',\n            (e: TransitionEvent) => {\n                if (e.propertyName === 'padding-top') {\n                    document.body.classList.remove('has-announcement');\n                }\n            },\n            false\n        );\n    }\n\n    update() {\n        this.$el.style.maxHeight = this.$el.scrollHeight + 'px';\n    }\n}\n","export default class CookieConsent {\n    $el: HTMLElement;\n    $btnAccept: HTMLElement;\n    $btnDecline: HTMLElement;\n\n    constructor($el: HTMLElement) {\n        this.$el = $el;\n\n        this.$btnAccept = this.$el.querySelector('.js-cookieConsentBtnAccept')!;\n        this.$btnDecline = this.$el.querySelector(\n            '.js-cookieConsentBtnDecline'\n        )!;\n\n        this.initListeners();\n    }\n\n    initListeners(): void {\n        this.$btnAccept.addEventListener(\n            'click',\n            this.onAccept.bind(this),\n            false\n        );\n        this.$btnDecline.addEventListener(\n            'click',\n            this.onDecline.bind(this),\n            false\n        );\n        this.$el.addEventListener(\n            'animationend',\n            () => {\n                this.$el.classList.add('is-hidden');\n            },\n            false\n        );\n    }\n\n    onAccept(): void {\n        localStorage.setItem('cookie-consent', 'true');\n        this.$el.classList.add('is-hide');\n    }\n\n    onDecline(): void {\n        localStorage.setItem('cookie-consent', 'false');\n        this.$el.classList.add('is-hide');\n    }\n}\n","export default class Nav {\n    $$subMenuToggles: NodeListOf<HTMLInputElement>;\n    $el: HTMLElement;\n    $overlay: HTMLElement;\n    $menuToggle: HTMLInputElement;\n    scrollY: number;\n\n    constructor($el: HTMLElement) {\n        this.$el = $el;\n        this.$$subMenuToggles = this.$el.querySelectorAll('.js-navSubMenuToggle');\n        this.$overlay = this.$el.querySelector('.js-navOverlay')!;\n        this.$menuToggle = document.getElementById('menuToggle')! as HTMLInputElement;\n        this.scrollY = window.scrollY;\n\n        this.initListeners();\n    }\n\n    initListeners(): void {\n        window.addEventListener('scroll', this.onScroll.bind(this), false);\n\n        this.$menuToggle.addEventListener('change', () => {\n            document.body.classList.toggle('is-menuVisible', this.$menuToggle.checked);\n        });\n\n        this.$overlay.addEventListener('pointerdown', () => {\n            this.$menuToggle.checked = false;\n        });\n\n        this.$$subMenuToggles.forEach(($subMenuToggle) => {\n            $subMenuToggle.addEventListener('change', this.onToggleSubMenu.bind(this), false);\n        });\n    }\n\n    onScroll(): void {\n        // this.$el.classList.toggle('has-scrolled', window.scrollY > 0);\n        this.$el.classList.toggle('has-scrolled', window.scrollY > this.$el.offsetHeight);\n        this.$el.classList.toggle('is-scrollingUp', this.scrollY !== 0 && window.scrollY < this.scrollY);\n        this.scrollY = window.scrollY;\n    }\n\n    onToggleSubMenu(e: Event): void {\n        const $subMenuToggle = e.currentTarget;\n\n        if ($subMenuToggle instanceof HTMLInputElement) {\n            const $subMenuBox = $subMenuToggle.parentNode?.querySelector('.js-navSubMenuBox');\n\n            if ($subMenuBox instanceof HTMLElement) {\n                $subMenuBox.style.maxHeight = ($subMenuToggle.checked ? $subMenuBox.scrollHeight : '0') + 'px';\n            }\n        }\n    }\n\n    update(): void {}\n}\n"],"names":["App","bindings","$root","name","component","options","$el","binding","mutations","targets","mutationRecord","Announcement","CookieConsent","Nav","$subMenuToggle","$subMenuBox","_a"],"mappings":"AAUA,MAAqBA,CAAI,CAGrB,YAAYC,EAAyB,GAAI,CACrC,KAAK,SAAWA,EAChB,KAAK,KAAK,CACd,CAEA,KAAKC,EAA+BC,EAAcC,EAAyBC,EAA2B,CAClGH,EAAM,iBAAiB,OAAOC,GAAM,EAAE,QAASG,GAAQ,CACnDA,EAAI,UAAJA,EAAI,QAAY,IAEZA,EAAI,QAAQH,KAAU,SACtBG,EAAI,QAAQH,GAAQ,IAAIC,EAAUE,EAAKD,CAAO,EAClD,CACH,CACL,CAEA,QAAQH,EAAqC,CACpC,KAAA,SAAS,QAASK,GAAY,CAC1B,KAAA,KAAKL,EAAOK,EAAQ,KAAMA,EAAQ,UAAWA,EAAQ,SAAW,CAAA,CAAE,CAAA,CAC1E,CACL,CAEA,MAAa,CACgB,IAAI,iBAAkBC,GAAc,CACzD,IAAIC,EAAyB,CAAA,EAEnBD,EAAA,QAASE,GAAmB,CAC9BA,EAAe,kBAAkB,cAC5BD,EAAQ,SAASC,EAAe,MAAM,IAClC,KAAA,QAAQA,EAAe,MAAM,EAC1BD,EAAA,KAAKC,EAAe,MAAM,GAE1C,CACH,EAED,SAAS,KAAK,cACV,IAAI,YAAY,aAAc,CAC1B,OAAQ,CACJ,QAAAD,CACJ,CAAA,CACH,CAAA,CACL,CACH,EAEgB,QAAQ,SAAS,gBAAiB,CAC/C,UAAW,GACX,QAAS,EAAA,CACZ,EAED,KAAK,QAAQ,QAAQ,CACzB,CACJ,CC/DA,MAAqBE,CAAa,CAI9B,YAAYL,EAAkB,CAC1B,KAAK,IAAMA,EACX,KAAK,OAAS,KAAK,IAAI,cAAc,uBAAuB,EAEnD,SAAA,KAAK,UAAU,IAAI,kBAAkB,EAC9C,OAAO,OAAS,KAAK,OAAO,KAAK,IAAI,EACrC,KAAK,OAAO,EAEZ,KAAK,cAAc,CACvB,CAEA,eAAsB,CAClB,KAAK,OAAO,iBACR,QACA,IAAM,CACG,KAAA,IAAI,UAAU,IAAI,WAAW,CACtC,EACA,EAAA,EAGJ,KAAK,IAAI,iBACL,gBACC,GAAuB,CAChB,EAAE,eAAiB,eACV,SAAA,KAAK,UAAU,OAAO,kBAAkB,CAEzD,EACA,EAAA,CAER,CAEA,QAAS,CACL,KAAK,IAAI,MAAM,UAAY,KAAK,IAAI,aAAe,IACvD,CACJ,CCtCA,MAAqBM,CAAc,CAK/B,YAAYN,EAAkB,CAC1B,KAAK,IAAMA,EAEX,KAAK,WAAa,KAAK,IAAI,cAAc,4BAA4B,EAChE,KAAA,YAAc,KAAK,IAAI,cACxB,6BAAA,EAGJ,KAAK,cAAc,CACvB,CAEA,eAAsB,CAClB,KAAK,WAAW,iBACZ,QACA,KAAK,SAAS,KAAK,IAAI,EACvB,EAAA,EAEJ,KAAK,YAAY,iBACb,QACA,KAAK,UAAU,KAAK,IAAI,EACxB,EAAA,EAEJ,KAAK,IAAI,iBACL,eACA,IAAM,CACG,KAAA,IAAI,UAAU,IAAI,WAAW,CACtC,EACA,EAAA,CAER,CAEA,UAAiB,CACA,aAAA,QAAQ,iBAAkB,MAAM,EACxC,KAAA,IAAI,UAAU,IAAI,SAAS,CACpC,CAEA,WAAkB,CACD,aAAA,QAAQ,iBAAkB,OAAO,EACzC,KAAA,IAAI,UAAU,IAAI,SAAS,CACpC,CACJ,CC7CA,MAAqBO,CAAI,CAOrB,YAAYP,EAAkB,CAC1B,KAAK,IAAMA,EACX,KAAK,iBAAmB,KAAK,IAAI,iBAAiB,sBAAsB,EACxE,KAAK,SAAW,KAAK,IAAI,cAAc,gBAAgB,EAClD,KAAA,YAAc,SAAS,eAAe,YAAY,EACvD,KAAK,QAAU,OAAO,QAEtB,KAAK,cAAc,CACvB,CAEA,eAAsB,CAClB,OAAO,iBAAiB,SAAU,KAAK,SAAS,KAAK,IAAI,EAAG,EAAK,EAE5D,KAAA,YAAY,iBAAiB,SAAU,IAAM,CAC9C,SAAS,KAAK,UAAU,OAAO,iBAAkB,KAAK,YAAY,OAAO,CAAA,CAC5E,EAEI,KAAA,SAAS,iBAAiB,cAAe,IAAM,CAChD,KAAK,YAAY,QAAU,EAAA,CAC9B,EAEI,KAAA,iBAAiB,QAASQ,GAAmB,CAC9CA,EAAe,iBAAiB,SAAU,KAAK,gBAAgB,KAAK,IAAI,EAAG,EAAK,CAAA,CACnF,CACL,CAEA,UAAiB,CAER,KAAA,IAAI,UAAU,OAAO,eAAgB,OAAO,QAAU,KAAK,IAAI,YAAY,EAC3E,KAAA,IAAI,UAAU,OAAO,iBAAkB,KAAK,UAAY,GAAK,OAAO,QAAU,KAAK,OAAO,EAC/F,KAAK,QAAU,OAAO,OAC1B,CAEA,gBAAgB,EAAgB,OAC5B,MAAMA,EAAiB,EAAE,cAEzB,GAAIA,aAA0B,iBAAkB,CAC5C,MAAMC,GAAcC,EAAAF,EAAe,aAAf,YAAAE,EAA2B,cAAc,qBAEzDD,aAAuB,cACvBA,EAAY,MAAM,WAAaD,EAAe,QAAUC,EAAY,aAAe,KAAO,KAElG,CACJ,CAEA,QAAe,CAAC,CACpB"}