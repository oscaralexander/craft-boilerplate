.textMedia {
    --gap: max(var(--gutter), min(var(--block-padding), var(--gutter-actual)));

    .wrapper > .block__header {
        @include screen-min(l) {
            display: none;
        }
    }

    &__split {
        @include screen-min(l) {
            align-items: center;
            display: flex;

            .textMedia--mediaCover.textMedia--textRight & {
                justify-content: flex-end;
            }

            .textMedia--mediaFloat & {
                gap: var(--gap);
            }

            .textMedia--mediaFloat.textMedia--textLeft & {
                flex-direction: row-reverse;
            }
        }
    }

    &__media {
        @include screen-max(l) {
            margin-bottom: var(--block-margin);

            .textMedia--mediaCover & {
                background: red;
                margin: 0 calc(var(--gutter) * -1) 3rem;
            }
        }

        @include screen-min(l) {
            .textMedia--mediaCover & {
                height: 100%;
                overflow: hidden;
                position: absolute;
                width: 50%;
            }

            .textMedia--mediaCover.textMedia--textLeft & {
                right: 0;
            }

            .textMedia--mediaCover.textMedia--textRight & {
                left: 0;
            }

            .textMedia--mediaFloat.textMedia--image & {
                align-items: center;
                display: flex;
                justify-content: center;
            }
        }
    }

    &__mediaBox {
        .textMedia--mediaCover & {
            overflow: hidden;
            width: 100%;

            @include screen-max(l) {
                aspect-ratio: 1/1;
                position: relative;
            }

            @include screen-min(l) {
                inset: 0;
                position: absolute;
            }
        }

        .textMedia--mediaCover.textMedia--image & {
            img {
                bottom: 0;
                height: 100%;
                left: 0;
                position: absolute;
                width: 100%;
            }
        }

        .textMedia--mediaCover.textMedia--parallax & {
            img {
                height: 125%;
                transform: translate3d(0, calc(20% * var(--equinox-pos)), 0);
            }
        }

        .textMedia--mediaFloat & {
            img {
                border-radius: var(--card-border-radius);
                margin: auto;
                max-height: 75vh;
                object-fit: contain;
                width: 100%;
            }
        }

        .textMedia--mediaFloat.textMedia--parallax & {
            @include screen-min(l) {
                transform: translate3d(0, calc((var(--block-padding) * 0.5) * var(--equinox)), 0);
            }
        }
    }

    &__embed {
        .textMedia--mediaCover & {
            inset: 0;
            position: absolute;
        }

        .textMedia--mediaFloat & {
            border-radius: var(--card-border-radius);
            position: relative;
            width: 100%;

            &.textMedia__embed--16x9 {
                aspect-ratio: 16/9;
            }

            &.textMedia__embed--4x3 {
                aspect-ratio: 4/3;
            }

            &.textMedia__embed--square {
                aspect-ratio: 1/1;
            }
        }

        iframe {
            height: 100%;
            inset: 0;
            position: absolute;
            width: 100%;
        }
    }

    &__text,
    &__media {
        @include screen-min(l) {
            flex: 1;
        }
    }

    &__text {
        @include screen-max(l) {
            .block__header {
                display: none;
            }
        }

        @include screen-min(l) {
            .textMedia--mediaCover & {
                flex: 0 0 50%;
            }

            .textMedia--mediaCover.textMedia--textLeft & {
                padding-right: var(--gap);
            }

            .textMedia--mediaCover.textMedia--textRight & {
                padding-left: var(--gap);
            }
        }
    }

    &__textWrapper {
        margin: auto;
        max-width: 640px;
    }
}
